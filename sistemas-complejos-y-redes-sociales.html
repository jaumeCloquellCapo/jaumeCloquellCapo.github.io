<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Sistemas Complejos y Redes Sociales. - jaumecloquellcapo</title><meta name="description" content="Las redes sociales son la base del modelado basado en agentes ya que representan las conexiones entre los agentes que forman los sistemas a estudiar y tienen un gran peso en la influencia de estos. No sólo son la base sino que también son muy&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/sistemas-complejos-y-redes-sociales.html"><link rel="amphtml" href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/amp/sistemas-complejos-y-redes-sociales.html"><link rel="alternate" type="application/atom+xml" href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/feed.xml"><link rel="alternate" type="application/json" href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/feed.json"><meta property="og:title" content="Sistemas Complejos y Redes Sociales."><meta property="og:image" content="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/pattern-nature-network-merl.jpg"><meta property="og:site_name" content="jaumecloquellcapo"><meta property="og:description" content="Las redes sociales son la base del modelado basado en agentes ya que representan las conexiones entre los agentes que forman los sistemas a estudiar y tienen un gran peso en la influencia de estos. No sólo son la base sino que también son muy&hellip;"><meta property="og:url" content="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/sistemas-complejos-y-redes-sociales.html"><meta property="og:type" content="article"><link rel="shortcut icon" href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/website/favicon.ico" type="image/x-icon"><style>:root{--body-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--heading-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--logo-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--menu-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/assets/css/style.css?v=47f8a4f068382085929af7e1db2c0ae5"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/sistemas-complejos-y-redes-sociales.html"},"headline":"Sistemas Complejos y Redes Sociales.","datePublished":"2019-12-07T13:30","dateModified":"2020-03-19T19:55","image":{"@type":"ImageObject","url":"https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/pattern-nature-network-merl.jpg","height":1080,"width":1920},"description":"Las redes sociales son la base del modelado basado en agentes ya que representan las conexiones entre los agentes que forman los sistemas a estudiar y tienen un gran peso en la influencia de estos. No sólo son la base sino que también son muy&hellip;","author":{"@type":"Person","name":"jaume cloquell capo"},"publisher":{"@type":"Organization","name":"jaume cloquell capo"}}</script></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/">jaumecloquellcapo</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/" title="https://jaumecloquellcapo.github.io/jaumeCloquellCapo.github.io/" target="_self">Home</a></li><li><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/js/" target="_self">JS</a></li><li class="has-submenu"><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/machine-learning/" target="_self" aria-haspopup="true">AI</a><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/abm/" target="_self">ABM</a></li><li><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/nlp/" target="_self">NLP</a></li><li><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/geneticalgorithms/" target="_self">Genetic Algorithms</a></li></ul></li><li><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/golang/" target="_self">Golang</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><form action="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/search.html" class="search__form"><input class="search__input js-search-input" type="search" name="q" placeholder="search..." aria-label="search..." autofocus="autofocus"></form><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/pattern-nature-network-merl.jpg" srcset="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/pattern-nature-network-merl-xs.jpg 300w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/pattern-nature-network-merl-sm.jpg 480w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/pattern-nature-network-merl-md.jpg 768w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/pattern-nature-network-merl-lg.jpg 1024w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/pattern-nature-network-merl-xl.jpg 1360w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/pattern-nature-network-merl-2xl.jpg 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="1080" width="1920" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2019-12-07T13:30">December 7, 2019</time></div><h1>Sistemas Complejos y Redes Sociales.</h1><div class="post__meta post__meta--author"><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/authors/jaume-cloquell-capo/" class="feed__author invert">jaume cloquell capo</a></div></div></header></div><div class="wrapper post__entry"><p>Las redes sociales son la base del modelado basado en agentes ya que representan las conexiones entre los agentes que forman los sistemas a estudiar y tienen un gran peso en la influencia de estos. No sólo son la base sino que también son muy útiles para estudiar comportamientos emergentes en los sistemas que creamos, utilizarlas para comprobar cómo cambia el comportamiento del modelo en función de la estructura de la red o medir el impacto que tiene ésta en los resultados obtenidos.</p><p>El objetivo de este post es evaluar las distintas redes sociales que existen, mostrando, ventajas y desventajas de cada una de ellas.</p><h2>Influencia de las redes sociales en el modelado basado en agentes.</h2><p>En los sistemas simulados mediante el modelado basado en agentes no basta con la única incorporación de los agentes para la toma de decisiones ya que como hemos comentado anteriormente la estructura de las redes donde se lleva a cabo la difusión de las opiniones y el diálogo entre los agentes influye poderosamente en el funcionamiento del sistema. Así, la simulación basada en agentes y el análisis de redes sociales se unen para explicar la aparición de distintos fenómenos biológicos, culturales, sociales o históricos como, por ejemplo, cómo ha sido posible que las ideas del cristianismo (frente a otras religiones) se propagasen por todo el Imperio romano hasta llegar a convertirse en una de las religiones más importantes de la historia.</p><p>En resumen, son muchas las ventajas de combinar el análisis de redes y modelos<br>basados en agentes para diseñar modelos empíricos de la realidad: los experimentos de laboratorio proporcionan datos sobre el comportamiento de los agentes y el análisis de redes suministra información acerca de la estructura de interacción entre los agentes sobre los que construir dichos modelos.</p><h2>Redes aleatorias.</h2><p><br>Las redes aleatorias se conocen en teoría de grafos como modelo <strong>Erdös–Rényi</strong> por<br>aparecer en un estudio realizado por los matemáticos <strong>Paul Erdös y Alfréd Rény</strong>i y<br>representan uno de los métodos empleados en la generación de grafos aleatorios. Este<br>modelo de redes se basa en que un nuevo nodo se enlaza con igual probabilidad con el<br>resto de la red y, por consiguiente, posee una independencia estadística con el resto de<br>nodos de la red.</p><p>En la actualidad representa una base teórica en la generación de otras redes. Para comprender conceptualmente el modelo diseñado por Erdös–Rényi  podríamos consideramos N nodos distribuidos de forma aleatoria en una red sin enlaces. Dicha red comenzaría a unirse enlazando dos nodos cualesquiera y, en pasos posteriores, se irían enlazando aleatoriamente otras parejas de nodos (descartando aquellos nodos que ya se encuentren enlazados). Repitiendo el proceso un número M de veces, habremos establecido como máximo M enlaces entre las parejas de nodos. Así, si M es un valor pequeño con respecto al valor total de nodos muchos de los nodos se encontrarán aislados (desconectados del resto) y otros estarán formando pequeñas islas. Por el contrario, si M es grande en comparación con el número total de nodos, es muy probable que casi todos los nodos se encuentren conectados entre sí formando una única componente gigante. Cuando se da esta forma de enlace entre los nodos,<br>aparecen propiedades específicas en la distribución de grado P(k) como, por ejemplo,<br>que sigue la forma de una distribución de Poisson 9 . </p><p> </p><figure class="post__image post__image--center"><img loading="lazy" src="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/sci2figure4.17.jpg" sizes="(max-width: 48em) 100vw, 768px" srcset="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/sci2figure4.17-xs.jpg 300w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/sci2figure4.17-sm.jpg 480w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/sci2figure4.17-md.jpg 768w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/sci2figure4.17-lg.jpg 1024w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/sci2figure4.17-xl.jpg 1360w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/sci2figure4.17-2xl.jpg 1600w" width="501" height="193"></figure><p>Durante muchas décadas a partir de los años 1950 se pensó que las redes con esta característica eran las más adecuadas para describir ciertas redes complejas y pronto se vio que no era del todo cierto.</p><h3>Redes de libre escala</h3><p>Las redes libres de escala son un tipo específico de red compleja en las que se pueden<br>apreciar una minoría de nodos con un gran número de enlaces a otros nodos mientras<br>que en el resto de los nodos que forman la red el grado de conexión es bastante bajo.<br>Este modelo de red compleja surgió durante un estudio encabezado por Lászlo<br>Barabási 10 y sus colaboradores de la Universidad de Notre Dame en el que<br>implementaron un mapa de la Web.Durante el estudio observaron que la web no<br>presentaba una distribución del grado de conectividad usual sino que existían unos<br>pocos nodos, a los que llamaron "Hubs 11 ", que estaban mucho más conectados que el esto.</p><p>Las diferencias principales entre una red aleatoriay otra libre de escala se encuentran en la cola de la distribución:</p><ul><li>Para valores pequeños de k, la ley de la potencia está <span>por encima de la de <span class="highlight selected">Pois</span>son: </span>la red libre de escala tiene un número alto de nodos con grado pequeño</li><li>Para k‘s cercanos a &lt;k<span>&gt;, la distribución de Poisson</span>e stá por encima de la ley de la potencia: en una red aleatoria hay muchos nodos con grado k≈&lt;k&gt;</li><li>Para valores altos de k, la ley de la potencia vuelve a <span>estar por encima de la de Poisson: </span>la posibilidad de encontrar un nodo de grado alto, un hub, es varios órdenes de magnitud mayor en una red libre de escala</li></ul><figure class="post__image post__image--center"><img loading="lazy" src="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/Captura-de-pantalla-de-2019-12-07-17-50-55.png" sizes="(max-width: 48em) 100vw, 768px" srcset="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/Captura-de-pantalla-de-2019-12-07-17-50-55-xs.png 300w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/Captura-de-pantalla-de-2019-12-07-17-50-55-sm.png 480w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/Captura-de-pantalla-de-2019-12-07-17-50-55-md.png 768w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/Captura-de-pantalla-de-2019-12-07-17-50-55-lg.png 1024w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/Captura-de-pantalla-de-2019-12-07-17-50-55-xl.png 1360w, https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/media/posts/8/responsive/Captura-de-pantalla-de-2019-12-07-17-50-55-2xl.png 1600w" width="322" height="387"></figure><p> </p><h2>Redes de Mundo Pequeño</h2><p>Una red de mundo pequeño es un tipo de grafo para el que la mayoría de los nodos no<br>son vecinos entre sí y en el que, sin embargo, la mayoría de los nodos pueden ser<br>alcanzados desde cualquier nodo origen a través de un número corto de saltos entre<br>ellos. Por otro lado, los grafos aleatorios muestran el efecto de mundo pequeño, pero no el de clusterización. </p><p>En el caso de una red social, donde los nodos representan personas y los enlaces son las  entre estas personas, se puede decir que captura muchos de los fenómenos de las redes de relaciones mundo pequeño. </p><p>La generación de redes de mundos pequeños se centra en dos propiedades:</p><ul><li>El fenómeno del mundo pequeño: cualesquiera dos nodos de la red se comunican por un camino de nodos intermedios relativamente pequeño. Comprobando que la distancia máxima entre dos nodos crece logarítmicamente con el número de nodos en la red.</li></ul><ul><li>Poseen valores altos de coeficiente de agrupamiento: si dos nodos no están<br>conectados directamente entre sí existe una gran probabilidad de que<br>conecten mediante la intervención de otros nodos. </li></ul><p>Los modelos de mundo pequeño, tienen sus raíces en las redes sociales no virtuales, donde la mayoría de la gente es amiga de sus vecinos físicos inmediatos, por ejemplo los vecinos en la misma calle o compañeros en la misma oficina. Por otro lado, muchas personas tienen un par de amigos que están lejos, en la distancia, como amigos de otros países, que están representados por las conexiones de largo alcance creadas por el procedimiento de reconexión que hemos visto.</p><p> </p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on March 19, 2020</p><ul class="post__tag"><li><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/abm/">Agent-based modeling</a></li></ul><div class="post__share"><a href="http://www.linkedin.com/shareArticle?url=https%3A%2F%2FjaumeCloquellCapo.github.io%2FjaumeCloquellCapo.github.io%2Fsistemas-complejos-y-redes-sociales.html&amp;title=Sistemas%20Complejos%20y%20Redes%20Sociales." class="js-share linkedin" rel="nofollow noopener noreferrer"><svg class="icon" aria-hidden="true" focusable="false"><use xlink:href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/assets/svg/svg-map.svg#linkedin"/></svg> <span>LinkedIn</span></a></div><div class="post__bio bio"><div class="bio__info"><h3 class="bio__name"><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/authors/jaume-cloquell-capo/" class="invert" rel="author">jaume cloquell capo</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/recommend-products-using-cloud-sql-and-sparkml.html" class="invert post__nav-link" rel="prev"><span>Previous</span> Recommend products using Cloud SQL and SparkML</a></div><div class="post__nav-next"><a href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/config-powertop-options-at-boot-time.html" class="invert post__nav-link" rel="next"><span>Next</span> Config PowerTOP options at boot time </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__comments"><div class="wrapper"><h2 class="h5">Comments</h2><div id="disqus_thread"></div><script>var disqus_config = function () {
                       this.page.url = 'https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/sistemas-complejos-y-redes-sociales.html';
               		this.page.identifier = '8';
                   };
               
                   var disqus_loaded = false;
               
                   function publiiLoadDisqus() {
                       if(disqus_loaded) {
                           return false;
                       }
               
                       var top = document.getElementById('disqus_thread').offsetTop;
               
                       if (!disqus_loaded && (window.scrollY || window.pageYOffset) + window.innerHeight > top) {
                           disqus_loaded = true;
               
                           (function () {
                               var d = document, s = d.createElement('script');
                               s.src = 'https://'+'https-jaumecloquellcapo-github-io'.trim()+'.disqus.com/embed.js';
                               s.setAttribute('data-timestamp', +new Date());
                               (d.head || d.body).appendChild(s);
                           })();
                       }
                   }
               
                   publiiLoadDisqus();
               
                   window.onscroll = function() {
                       publiiLoadDisqus();
                   };</script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" target="_blank" rel="nofollow noopener noreferrer">comments powered by Disqus.</a></noscript></div></div></main><footer class="footer"><div class="footer__social"><a href="https://www.linkedin.com/in/jaume-cloquell-119765b7" aria-label="LinkedIn"><svg><use xlink:href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/assets/svg/svg-map.svg#linkedin"/></svg></a></div><div class="footer__copyright"><p>jaume cloquell capo</p></div><button class="footer__bttop js-footer__bttop" aria-label="Back to top"><svg><title>Back to top</title><use xlink:href="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script>window.publiiThemeMenuConfig = {    
        mobileMenuMode: 'overlay',
        animationSpeed: 300,
        submenuWidth: 'auto',
        doubleClickTime: 500,
        mobileMenuExpandableSubmenus: true, 
        relatedContainerForOverlayMenuSelector: '.top',
   };</script><script defer="defer" src="https://jaumeCloquellCapo.github.io/jaumeCloquellCapo.github.io/assets/js/scripts.min.js?v=f4c4d35432d0e17d212f2fae4e0f8247"></script><script>var images = document.querySelectorAll('img[loading]');

        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><div class="cookie-popup js-cookie-popup cookie-popup--uses-badge"><h2>This website uses cookies</h2><p>Select which cookies to opt-in to via the checkboxes below; our website uses cookies to examine site traffic and user activity while on our site, for marketing, and to provide social media functionality. <a href="#not-specified">More details...</a></p><form><input id="gdpr-necessary" name="gdpr-necessary" checked="checked" disabled="disabled" type="checkbox"> <label for="gdpr-necessary">Required</label> <input id="gdpr-functions" name="gdpr-functions" type="checkbox"> <label for="gdpr-functions">Functionality</label> <input id="gdpr-analytics" name="gdpr-analytics" type="checkbox"> <label for="gdpr-analytics">Analytical</label> <input id="gdpr-marketing" name="gdpr-marketing" type="checkbox"> <label for="gdpr-marketing">Marketing</label><p class="cookie-popup__save-wrapper"><button type="submit" class="cookie-popup__save">Save</button></p></form><span class="cookie-popup-label">Cookie Policy</span></div><script>(function() {
                function addScript (src, inline) {
                    var newScript = document.createElement('script');

                    if (src) {
                        newScript.setAttribute('src', src);
                    }

                    if (inline) {
                        newScript.text = inline;
                    }

                    document.body.appendChild(newScript);
                }

                var popup = document.querySelector('.js-cookie-popup');
                var checkboxes = popup.querySelectorAll('input[type="checkbox"]');
                var save = popup.querySelector('button');
                var currentConfig = localStorage.getItem('publii-gdpr-allowed-cookies');
                var blockedScripts = document.querySelectorAll('script[type^="gdpr-blocker/"]');
                

                popup.addEventListener('click', function() {
                    if (!popup.classList.contains('cookie-popup--is-sticky')) {
                        popup.classList.add('cookie-popup--is-sticky');
                    }
                });

                save.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    popup.classList.remove('cookie-popup--is-sticky');
                    var allowedGroups = [];

                    for (var i = 0; i < checkboxes.length; i++) {
                        if (checkboxes[i].checked) {
                            var groupName = checkboxes[i].getAttribute('name').replace('gdpr-', '');
                            var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + groupName + '"]');

                            for (var j = 0; j < scripts.length; j++) {
                                addScript(scripts[j].src, scripts[j].text);
                            }

                            allowedGroups.push(groupName);
                        }
                    }

                    localStorage.setItem('publii-gdpr-allowed-cookies', allowedGroups.join(','));
                    popup.classList.remove('cookie-popup--is-sticky');

                    setTimeout(function () {
                        if (currentConfig !== null) {
                            window.location.reload();
                        }
                    }, 250);
                });

                if (currentConfig === null) {
                    popup.classList.add('cookie-popup--is-sticky');
                    var checkedGroups = popup.querySelectorAll('input[type="checkbox"]:checked');

                    for (var i = 0; i < checkedGroups.length; i++) {
                        var allowedGroup = checkedGroups[i].name.replace('gdpr-', '');

                        if (allowedGroup !== '-' && allowedGroup !== '') {
                            var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroup + '"]');

                            for (var j = 0; j < scripts.length; j++) {
                                addScript(scripts[j].src, scripts[j].text);
                            }
                        }
                    }
                } else {
                    if (currentConfig !== '') {
                        var allowedGroups = currentConfig.split(',');
                        var checkedCheckboxes = popup.querySelectorAll('input[type="checkbox"]:checked');

                        for (var j = 0; j < checkedCheckboxes.length; j++) {
                            var name = checkedCheckboxes[j].name.replace('gdpr-', '');

                            if (allowedGroups.indexOf(name) === -1) {
                                checkedCheckboxes[j].checked = false;
                            }
                        }

                        for (var i = 0; i < allowedGroups.length; i++) {
                            var scripts = document.querySelectorAll('script[type="gdpr-blocker/' + allowedGroups[i] + '"]');
                            var checkbox = popup.querySelector('input[type="checkbox"][name="gdpr-' + allowedGroups[i] + '"]');

                            if (checkbox) {
                                checkbox.checked = true;
                            }

                            for (var j = 0; j < scripts.length; j++) {
                                addScript(scripts[j].src, scripts[j].text);
                            }
                        }
                    }
                }
            })();</script></body></html>